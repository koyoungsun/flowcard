<template>
  <section class="max-w-md mx-auto p-6 bg-white rounded-xl shadow-sm mt-10">
    <!-- í”„ë¡œí•„ ì˜ì—­ -->
    <div class="flex flex-col items-center text-center">
      <img
        v-if="photoURL"
        :src="photoURL"
        alt="í”„ë¡œí•„ ì´ë¯¸ì§€"
        class="w-24 h-24 rounded-full border border-gray-200 shadow-sm"
      />
      <div
        v-else
        class="w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-3xl font-semibold text-gray-600"
      >
        {{ displayName?.charAt(0) || "?" }}
      </div>

      <h2 class="mt-4 text-xl font-semibold text-gray-800">
        {{ displayName || "ì‚¬ìš©ì ì´ë¦„ ì—†ìŒ" }}
      </h2>
      <p class="text-gray-500 text-sm">{{ email || "ì´ë©”ì¼ ì •ë³´ ì—†ìŒ" }}</p>
    </div>

    <!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
    <div class="mt-8 flex justify-center">
      <button
        @click="manualSignOut"
        class="px-5 py-2 text-sm bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors"
      >
        ë¡œê·¸ì•„ì›ƒ
      </button>
    </div>
  </section>
</template>

<script setup lang="ts">
import { useAuthWatcher } from "@/composables/useAuthWatcher";
import { ref } from "vue";

// composable ê°€ì ¸ì˜¤ê¸°
const { user, displayName, email, photoURL, manualSignOut } = useAuthWatcher();

// ë°˜ì‘í˜• ë°ì´í„° ë””ë²„ê¹…ìš© (ì›í•  ê²½ìš° ì œê±° ê°€ëŠ¥)
console.log("ğŸ” Me.vue ì‚¬ìš©ì ì •ë³´:", {
  name: displayName.value,
  email: email.value,
  photo: photoURL.value,
});
</script>

<style scoped>
section {
  animation: fadeIn 0.3s ease-in-out;
}
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>